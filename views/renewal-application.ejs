<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GBS Renewal Application</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .logo-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .logo {
            max-width: 150px;
            height: auto;
        }
        h1, h2 {
            color: #2c3e50;
            text-align: center;
        }
        .form-section {
            background: #f9f9f9;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="url"],
        select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .required:after {
            content: " *";
            color: red;
        }
        .name-group {
            display: flex;
            gap: 10px;
        }
        .name-group .form-group {
            flex: 1;
        }
        .btn {
            background-color: #3498db;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .btn-container {
            text-align: center;
            margin-top: 20px;
        }
        .terms-box {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 20px 0;
            max-height: 200px;
            overflow-y: auto;
            background: white;
        }
        .radio-group {
            margin-top: 5px;
        }
        .radio-group label {
            display: inline;
            font-weight: normal;
            margin-right: 15px;
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <img src="/images/gbs-logo.png" alt="GBS Logo" class="logo">
        <h1>GBS Renewal Application Form</h1>
    </div>

    <form id="renewalForm" action="/api/users/renewalApplication" method="POST">
        <!-- Basic Information -->
        <div class="form-section">
            <div class="form-group">
                <label for="chapter">Chapter</label>
                <input type="text" id="chapter" name="chapter" value="GBS Drona">
            </div>
            
            <div class="form-group">
                <label for="region">Region</label>
                <input type="text" id="region" name="region" value="GBS Surat North">
            </div>
            
            <div class="name-group">
                <div class="form-group">
                    <label for="firstName" class="required">First Name</label>
                    <input type="text" id="firstName" name="firstName" required>
                </div>
                <div class="form-group">
                    <label for="lastName" class="required">Last Name</label>
                    <input type="text" id="lastName" name="lastName" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="applicationDate" class="required">Date</label>
                <input type="date" id="applicationDate" name="applicationDate" required>
            </div>
            
            <div class="form-group">
                <label for="businessName">Business Name</label>
                <input type="text" id="businessName" name="businessName">
            </div>
            
            <div class="form-group">
                <label class="required">Membership Options</label>
                <div class="radio-group">
                    <label><input type="radio" name="membershipOption" value="One Year" required> One Year Membership</label>
                    <label><input type="radio" name="membershipOption" value="Two Year"> Two Year Membership</label>
                    <label><input type="radio" name="membershipOption" value="Five Year"> Five Year Membership</label>
                </div>
            </div>
        </div>

        <!-- Business Address -->
        <div class="form-section">
            <h2>Business Address</h2>
            
            <div class="form-group">
                <label for="addressLine1" class="required">Address Line 1</label>
                <input type="text" id="addressLine1" name="businessAddress[addressLine1]" required>
            </div>
            
            <div class="form-group">
                <label for="addressLine2">Address Line 2</label>
                <input type="text" id="addressLine2" name="businessAddress[addressLine2]">
            </div>
            
            <div style="display: flex; gap: 10px;">
                <div class="form-group" style="flex: 1;">
                    <label for="city" class="required">City</label>
                    <input type="text" id="city" name="businessAddress[city]" required>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label for="state" class="required">State / Province / Region</label>
                    <input type="text" id="state" name="businessAddress[state]" required>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label for="postalCode" class="required">Postal / Zip Code</label>
                    <input type="text" id="postalCode" name="businessAddress[postalCode]" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="website">Website Address</label>
                <input type="url" id="website" name="website">
            </div>
            
            <div class="form-group">
                <label for="email" class="required">Email Address</label>
                <input type="email" id="email" name="email" required>
            </div>
            
            <div class="form-group">
                <label for="phone" class="required">Phone</label>
                <input type="tel" id="phone" name="phone" required>
            </div>
            
            <div class="form-group">
                <label for="category" class="required">Your GBS Category</label>
                <input type="text" id="category" name="category" required>
            </div>
            
            <div class="form-group">
                <label for="gstNumber">GST Number</label>
                <input type="text" id="gstNumber" name="gstNumber">
            </div>
        </div>

        <!-- Continuing Commitment -->
        <div class="form-section">
            <h2>CONTINUING COMMITMENT</h2>
            
            <div class="form-group">
                <label class="required">Has your professional license or certification been revoked or suspended since you were last approved for membership?</label>
                <div class="radio-group">
                    <label><input type="radio" name="licenseRevoked" value="Yes" required> Yes</label>
                    <label><input type="radio" name="licenseRevoked" value="No"> No</label>
                    <label><input type="radio" name="licenseRevoked" value="N/A"> N/A</label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="required">Are you able and willing to make the commitment to abide by all requirements outlined in the current GBS application as well as GBS member policies, GBS guidelines and Code of Ethics?</label>
                <div class="radio-group">
                    <label><input type="radio" name="commitment" value="Yes" required> Yes</label>
                    <label><input type="radio" name="commitment" value="No"> No</label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="required">Have you joined any other networking organizations since you joined GBS?</label>
                <div class="radio-group">
                    <label><input type="radio" name="otherNetworkingOrgs" value="Yes" required> Yes</label>
                    <label><input type="radio" name="otherNetworkingOrgs" value="No"> No</label>
                </div>
            </div>
        </div>

        <!-- Terms and Conditions -->
        <div class="form-section">
            <h2>Terms and Certifications</h2>
            
            <div class="terms-box">
                <p>By submitting this Application, you agree to receive communication from or relating to GBS, and further agree that GBS may share your information and any other information and material you provide with other GBS members, affiliates, vendors. and third parties in order to provide you services as a GBS member. See GBSConnect.com's Privacy policy for more information. Please visit  https://www.gbs.com/privacy-policy </p>

                <p>Arbitration: All disputes arising out of/ related, to this Agreement or the member's participation in GBS shall be resolved by binding arbitration by a panel of three arbitrators, wherein each party shall appoint one arbitrator and the two arbitrators so appointed shall appoint the third arbitrator, in accordance with the laws of India. The Arbitration proceedings shall be conducted in Bangalore and shall be as per the provisions of the Arbitration and conciliation Act 1996 (as amended). The language of Arbitration shall be English and the cost of arbitration shall be borne by the Party against whom an award is passed. The arbitration award made shall be final and binding on the Parties and the Parties agree to be bound thereby and to act accordingly. The clause encompasses any and all disputes involving GBS, its franchisee, and their officers, directors, agents and representatives, as well as members, provided that the dispute pertain to the membership or participation in GBS. The Agreement shall be governed by and construed in accordance with the laws of the Republic of India. In any case, for supervisory, injunctive relief or relief of specific performance, this Agreement and any dispute arising out of this Agreement shall be subject to jurisdiction of courts in the city of Bangalore, Republic of India.</p>

                <p>Acknowledgement: I fully understand that membership of GBS is purely voluntary and does not imply nor is it a partnership between the member and GBS of any nature and therefore GBS is not committed to nor responsible in any manner for any projects that I undertake, or any transaction consummated between myself and other fellow GBS members regardless of whether such project or transaction has directly or indirectly resulted from a referral received during my membership. I further agree that GBS in any manner does not guarantee any results from such membership and in no event can GBS be held responsible if I do not achieve the purpose behind becoming a GBS member.</p>

                <p>Limitations on Liability: Notwithstanding any other provision of this Agreement, any liability to you involving GBS, it's franchisee, and their officers, directors, employees, agents and representatives for any cause whatsoever arising out of or related to this Agreement and/ or membership or participation in GBS, and regardless of the form of the action, will at all times be limited to the amount of the annual membership fee paid by you for membership in GBS. In no event will there be any liability to you or any third person for any indirect, consequential, exemplary, incidental, special or punitive damages. No actions hereunder may be commenced unless brought within one (1) year of accrual.</p>

                <p>Term: All term fees are measured from the application date. Applications dated between 1st and the 15th of the month shall begin their term on the 1st of that month. Applications dated after the 15th of the month shall begin their term on the 1st of the following month. Terms run for one (1) year from the date the term begins.</p>

                <p>Certification: I hereby declare and certify that all statements contained in this application and any accompanying documents are true and correct, and that any misrepresentation or false statement may be grounds for rejecting my application or, if discovered after my application has been accepted, subject me to immediate termination at franchisee's or GBS's discretion without any reimbursement. I further understand that my membership is conditional and I agree, accept and will abide by all the terms and conditions set forth herein and those contained within the GBS Member Policies, Guidelines and Code of Ethics, all of which I have had the opportunity to review on www.gbs-india.in or have received. I acknowledge that breach of the terms, conditions, and policies shall be ground to terminate my membership.</p>

                <p>Personal Data is jointly controlled by GBS Worldwide Development Ltd, GBS India Enterprises Pvt. Ltd. & your local GBS Franchisee & governed by GDPR.  Please visit  https://www.gbs.com/privacy-policy</p>

                <p>I understand and agree that upon my acceptance to GBS, fees are non-refundable without exception.</p>
            </div>
            
            <div class="form-group">
                <label class="required">
                    <input type="checkbox" name="termsAccepted" required> I Agree to the Terms and Conditions & Privacy Policy
                </label>
            </div>
        </div>

        <div class="btn-container">
            <button type="button" class="btn" onclick="window.history.back()">Back</button>
            <button type="submit" class="btn">Submit</button>
        </div>
    </form>

    <script>
        document.getElementById('renewalForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form data
    const formData = new FormData(this);
    const formObject = Object.fromEntries(formData.entries());
    
    // Transform flat structure to nested
    const transformedData = {
        ...formObject,
        commitment: {
            licenseRevoked: formObject.licenseRevoked,
            abideByRules: formObject.commitment,
            newNetworkingOrgs: formObject.otherNetworkingOrgs
        }
    };
    
    // Remove the flat fields
    delete transformedData.licenseRevoked;
    delete transformedData.commitment; // This was the string value
    delete transformedData.otherNetworkingOrgs;
    
    // Send the request
    fetch('/api/users/renewalApplication', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(transformedData)
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 200) {
            alert('Form submitted successfully!');
            window.location.href = '/success';
        } else {
            alert(data.message || 'Submission failed');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('An error occurred while submitting the form.');
    });

});
            // You can add form validation here if needed
            // If validation fails, call e.preventDefault();
      
    </script>
</body>
</html>